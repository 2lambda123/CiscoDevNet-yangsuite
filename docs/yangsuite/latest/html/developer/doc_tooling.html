

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Documentation tooling &mdash; YANG Suite 2.5.1.post0.dev1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release process" href="release_process.html" />
    <link rel="prev" title="Project structure and design guidelines" href="design_guidelines.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> YANG Suite
          

          
            
            <img src="../_static/android-chrome-192x192.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.5.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">YANG Suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">Welcome to YANG Suite!</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="develop.html">YANG Suite developer documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="design_guidelines.html">Project structure and design guidelines</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Documentation tooling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mission-statement">Mission statement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#design">Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-online-help-pages">Adding online help pages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#specifying-the-order-of-help-pages-in-the-table-of-contents">Specifying the order of help pages in the table of contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#setting-the-help-link-for-your-page-templates">Setting the help link for your page templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-docs-manually">Building docs manually</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pdf-documentation">PDF documentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#full-html-documentation-readthedocs-style">Full HTML documentation (readthedocs style)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#online-help-as-embedded-in-yang-suite-packages">Online help (as embedded in YANG Suite packages)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="release_process.html">Release process</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker.html">Building and publishing YANG Suite Docker images</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_application.html">Creating a new application from our template</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html">Auto user registration for YangSuite</a></li>
<li class="toctree-l2"><a class="reference internal" href="yangsuite.html"><code class="docutils literal notranslate"><span class="pre">yangsuite</span></code> package reference</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">YANG Suite</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Developer documentation</a> &raquo;</li>
        
      <li>Documentation tooling</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developer/doc_tooling.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="documentation-tooling">
<h1>Documentation tooling<a class="headerlink" href="#documentation-tooling" title="Permalink to this headline">¶</a></h1>
<div class="section" id="mission-statement">
<h2>Mission statement<a class="headerlink" href="#mission-statement" title="Permalink to this headline">¶</a></h2>
<p>The goal is to have a single source of truth for our documentation content,
rather than separate source-controlled files for readthedocs.org,
online documentation pages accessible within YANG Suite itself, and other
documents such as PDF user guides. A change in the documentation should
be made in a single place and automatically propagate into any and all desired
output formats as needed.</p>
</div>
<div class="section" id="design">
<h2>Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h2>
<p>The source of truth for documentation will be reStructuredText (<code class="docutils literal notranslate"><span class="pre">.rst</span></code>) files
in the <code class="docutils literal notranslate"><span class="pre">&lt;workspace</span> <span class="pre">root&gt;/docs/</span></code> directory, which is source-controlled in Git.
Files in this directory are not generally for direct user consumption but serve
as the shared “source code” for any and all documentation output formats.
These files are compiled to the desired format(s) using <a class="reference external" href="http://www.sphinx-doc.org/en/master/">Sphinx</a>.</p>
<p>Most YANG Suite apps will have both “user” documentation
(how to use the application as an end user) and “developer” documentation
(API definitions, autodoc code documentation, etc.). We recommend therefore that
for clarity, the docs directory be structured with “user” and “developer”
subdirectories, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ysapplication</span><span class="o">/</span>
  <span class="n">README</span><span class="o">.</span><span class="n">rst</span>
  <span class="n">docs</span><span class="o">/</span>
    <span class="n">conf</span><span class="o">.</span><span class="n">py</span>        <span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">index</span><span class="o">.</span><span class="n">rst</span>      <span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">user</span><span class="o">/</span>
      <span class="n">conf</span><span class="o">.</span><span class="n">py</span>      <span class="p">(</span><span class="mi">3</span><span class="p">)</span>
      <span class="n">index</span><span class="o">.</span><span class="n">rst</span>    <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
      <span class="n">user_doc_1</span><span class="o">.</span><span class="n">rst</span>
      <span class="n">user_doc_2</span><span class="o">.</span><span class="n">rst</span>
    <span class="n">developer</span><span class="o">/</span>
      <span class="n">index</span><span class="o">.</span><span class="n">rst</span>    <span class="p">(</span><span class="mi">5</span><span class="p">)</span>
      <span class="n">ysapplication</span><span class="o">.</span><span class="n">apps</span><span class="o">.</span><span class="n">rst</span>
      <span class="n">ysapplication</span><span class="o">.</span><span class="n">views</span><span class="o">.</span><span class="n">rst</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">conf.py</span></code> is the Sphinx configuration file. Generally, for YANG Suite apps,
this file should lead with a <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">yangsuite.sphinx_conf</span> <span class="pre">import</span> <span class="pre">*</span></code> to
import default configuration provided by YANG Suite itself, then override
only the specific properties that need to be customized for this app.</li>
<li>The base <code class="docutils literal notranslate"><span class="pre">index.rst</span></code> will typically have little more than an
<code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">include::</span> <span class="pre">../README</span></code> statement (so that the package’s <code class="docutils literal notranslate"><span class="pre">README.rst</span></code>
content will also be included), plus references to <code class="docutils literal notranslate"><span class="pre">user/index</span></code> and
<code class="docutils literal notranslate"><span class="pre">developer/index</span></code>.</li>
<li>In most cases, the <code class="docutils literal notranslate"><span class="pre">user/conf.py</span></code> can import the parent <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> and
only needs to override the release string.
See <code class="docutils literal notranslate"><span class="pre">docs/app_template/docs/user/conf.py</span></code> for an example.</li>
<li>For a particularly simple application, the <code class="docutils literal notranslate"><span class="pre">user/index.rst</span></code> may be the
only file in this directory and may directly contain all relevant info.</li>
<li>In general, the <code class="docutils literal notranslate"><span class="pre">user/index.rst</span></code> and <code class="docutils literal notranslate"><span class="pre">developer/index.rst</span></code> will contain
some introductory content, followed by ReST <code class="docutils literal notranslate"><span class="pre">toctree</span></code> directives
providing a table of contents for all other
documents in the corresponding subdirectory.</li>
</ol>
</div>
<div class="section" id="adding-online-help-pages">
<h2>Adding online help pages<a class="headerlink" href="#adding-online-help-pages" title="Permalink to this headline">¶</a></h2>
<p>If you’re building a new application using the provided YANG Suite application
template, then many of these steps are already pre-configured for you.
The steps below are provided for reference and for those who are updating
an older YANG Suite application to fit into the latest documentation tooling.</p>
<ol class="arabic">
<li><p class="first">Make sure the documentation sources are included in a source distribution
of the package, in <code class="docutils literal notranslate"><span class="pre">MANIFEST.in</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recursive</span><span class="o">-</span><span class="n">include</span> <span class="n">docs</span> <span class="o">*</span>
</pre></div>
</div>
<p>Additionally make sure your inclusions under the <code class="docutils literal notranslate"><span class="pre">static</span></code> directory are
not inadvertently excluding generated documentation files and images -
it’s generally easiest to just include everything under <code class="docutils literal notranslate"><span class="pre">static</span></code> as part
of your package, even if some files thus included are not strictly needed.
In other words, instead of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recursive</span><span class="o">-</span><span class="n">include</span> <span class="n">ysT_APPLICATION</span><span class="o">/</span><span class="n">static</span> <span class="o">*.</span><span class="n">css</span> <span class="o">*.</span><span class="n">js</span>
</pre></div>
</div>
<p>you should instead generally use simply:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recursive</span><span class="o">-</span><span class="n">include</span> <span class="n">ysT_APPLICATION</span><span class="o">/</span><span class="n">static</span><span class="o">/</span><span class="n">ysT_APPLICATION</span> <span class="o">*</span>
</pre></div>
</div>
<p>(where, of course, you would replace <code class="docutils literal notranslate"><span class="pre">ysT_APPLICATION</span></code> with the name of
your application, same as elsewhere in the application template.)</p>
</li>
<li><p class="first">Replace boilerplate configuration in <code class="docutils literal notranslate"><span class="pre">docs/conf.py</span></code> with a
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">yangsuite.sphinx_conf</span> <span class="pre">import</span> <span class="pre">*</span></code>, and create <code class="docutils literal notranslate"><span class="pre">docs/user/conf.py</span></code>
from the template, if not already present.</p>
</li>
<li><p class="first">Add a Makefile to your project (based on the latest application template,
and again replacing all <code class="docutils literal notranslate"><span class="pre">ysT_APPLICATION</span></code> strings with the actual
application name).</p>
</li>
<li><p class="first">All of the derived documentation content under <code class="docutils literal notranslate"><span class="pre">*/static/*/docs</span></code>, while
part of the package distribution, should <em>not</em> be committed to Git, as it’s
generated files rather than the original source of truth under
<code class="docutils literal notranslate"><span class="pre">docs/user</span></code>.
Add the following to your <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Don&#39;t commit derived documentation files</span>
<span class="o">*/</span><span class="n">static</span><span class="o">/*/</span><span class="n">docs</span><span class="o">/</span>
</pre></div>
</div>
</li>
<li><p class="first">If you have previously committed anything under this subdirectory to your
Git repo, be sure to remove it now:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">rm</span> <span class="o">-</span><span class="n">r</span> <span class="o">*/</span><span class="n">static</span><span class="o">/*/</span><span class="n">docs</span><span class="o">/*</span>
</pre></div>
</div>
</li>
</ol>
<p>If all of the above has been done correctly, then to build the files used for
online help under <code class="docutils literal notranslate"><span class="pre">*/static/*/docs</span></code>, you can simply run
<code class="docutils literal notranslate"><span class="pre">make</span></code> or <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">help</span></code>.</p>
<p>Now that you have online help content in your <code class="docutils literal notranslate"><span class="pre">static</span></code> directory,
these pages will be automatically included in the YANG Suite online help
system, appearing in its table of contents and being discoverable by
searching the help pages.</p>
<div class="section" id="specifying-the-order-of-help-pages-in-the-table-of-contents">
<h3>Specifying the order of help pages in the table of contents<a class="headerlink" href="#specifying-the-order-of-help-pages-in-the-table-of-contents" title="Permalink to this headline">¶</a></h3>
<p>If you have multiple separate help pages (as would be common in a larger or
more complex YANG Suite application), they will all be automatically included
in the YANG Suite online help system. By default, they will be listed in
alphabetical order (based on the help file name) in the table of contents.</p>
<p>If you would prefer to have them listed in a specific, logical order, you can
specify this order using the <code class="docutils literal notranslate"><span class="pre">help_pages</span></code> parameter in your <code class="docutils literal notranslate"><span class="pre">apps.py</span></code> file.
For example, let’s say you have three help files named <code class="docutils literal notranslate"><span class="pre">basic.rst</span></code>,
<code class="docutils literal notranslate"><span class="pre">advanced.rst</span></code>, and <code class="docutils literal notranslate"><span class="pre">tips.rst</span></code>, and you want to have your
“Basic usage” help file listed first, followed by “Advanced usage”, and finally
by “Tips and tricks”. Then part of your <code class="docutils literal notranslate"><span class="pre">apps.py</span></code> might look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">help_pages</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">(</span><span class="s1">&#39;Basic usage&#39;</span><span class="p">,</span> <span class="s1">&#39;basic&#39;</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">&#39;Advanced usage&#39;</span><span class="p">,</span> <span class="s1">&#39;advanced&#39;</span><span class="p">),</span>
  <span class="p">(</span><span class="s1">&#39;Tips and tricks&#39;</span><span class="p">,</span> <span class="s1">&#39;tips&#39;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="setting-the-help-link-for-your-page-templates">
<h2>Setting the help link for your page templates<a class="headerlink" href="#setting-the-help-link-for-your-page-templates" title="Permalink to this headline">¶</a></h2>
<p>All YANG Suite page templates inheriting from <code class="docutils literal notranslate"><span class="pre">base-cui.html</span></code> have a “help”
<code class="docutils literal notranslate"><span class="pre">(?)</span></code> button in the top right corner. By default this button links to the
top-level YANG Suite help page, but often it will be more helpful to your
users to link to a specific help page provided by your package. This can
be accomplished by overriding the <code class="docutils literal notranslate"><span class="pre">help_url</span></code> block. E.g., to link to help
page <code class="docutils literal notranslate"><span class="pre">&quot;view_help&quot;</span></code> in your package, this might look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">block</span> <span class="n">help_url</span> <span class="o">%</span><span class="p">}{</span><span class="o">%</span> <span class="n">url</span> <span class="s1">&#39;help&#39;</span> <span class="n">section</span><span class="o">=</span><span class="s1">&#39;ysT_APPLICATION&#39;</span> <span class="n">document</span><span class="o">=</span><span class="s1">&#39;view_help&#39;</span> <span class="o">%</span><span class="p">}{</span><span class="o">%</span> <span class="n">endblock</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="building-docs-manually">
<h2>Building docs manually<a class="headerlink" href="#building-docs-manually" title="Permalink to this headline">¶</a></h2>
<p>To (re-)build each type of documentation, you can use the following commands.</p>
<div class="section" id="pdf-documentation">
<h3>PDF documentation<a class="headerlink" href="#pdf-documentation" title="Permalink to this headline">¶</a></h3>
<p>PDF documentation is generated via an intermediate build to LaTeX format.
You may need to install <code class="docutils literal notranslate"><span class="pre">latexmk</span></code> on your system and then enter your yangsuite
installation virtualenv for this to work.
To build the full (developer) documentation as PDF:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx</span><span class="o">-</span><span class="n">build</span> <span class="o">-</span><span class="n">b</span> <span class="n">latex</span> <span class="n">docs</span> <span class="n">build</span><span class="o">/</span><span class="n">sphinx</span><span class="o">/</span><span class="n">full</span>
<span class="n">cd</span> <span class="n">build</span><span class="o">/</span><span class="n">sphinx</span><span class="o">/</span><span class="n">full</span>
<span class="n">make</span>
</pre></div>
</div>
<p>User guide PDF documentation can be built similarly, but using only the
<code class="docutils literal notranslate"><span class="pre">docs/user</span></code> subdirectory as sources:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx</span><span class="o">-</span><span class="n">build</span> <span class="o">-</span><span class="n">b</span> <span class="n">latex</span> <span class="n">docs</span><span class="o">/</span><span class="n">user</span> <span class="n">build</span><span class="o">/</span><span class="n">sphinx</span><span class="o">/</span><span class="n">user</span>
<span class="n">cd</span> <span class="n">build</span><span class="o">/</span><span class="n">sphinx</span><span class="o">/</span><span class="n">user</span>
<span class="n">make</span>
</pre></div>
</div>
</div>
<div class="section" id="full-html-documentation-readthedocs-style">
<h3>Full HTML documentation (readthedocs style)<a class="headerlink" href="#full-html-documentation-readthedocs-style" title="Permalink to this headline">¶</a></h3>
<p>HTML documentation in readthedocs style can be generated with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx</span><span class="o">-</span><span class="n">build</span> <span class="o">-</span><span class="n">b</span> <span class="n">html</span> <span class="n">docs</span> <span class="n">build</span><span class="o">/</span><span class="n">sphinx</span><span class="o">/</span><span class="n">full</span>
</pre></div>
</div>
<p>Build and publishing of these docs can be integrated with Jenkins via
a standalone <a class="reference external" href="https://wwwin-github.cisco.com/yang-suite/tools/blob/master/bin/build_publish_docs">build_publish_docs script</a></p>
</div>
<div class="section" id="online-help-as-embedded-in-yang-suite-packages">
<h3>Online help (as embedded in YANG Suite packages)<a class="headerlink" href="#online-help-as-embedded-in-yang-suite-packages" title="Permalink to this headline">¶</a></h3>
<p>The online help can be generated and packaged in one step using <code class="docutils literal notranslate"><span class="pre">make</span></code>,
or, to simply build the online help files alone, <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">help</span></code>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="release_process.html" class="btn btn-neutral float-right" title="Release process" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="design_guidelines.html" class="btn btn-neutral" title="Project structure and design guidelines" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2019, YANG Suite development team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.5.1.post0.dev1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>
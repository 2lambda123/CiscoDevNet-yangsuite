

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ysnetconf.rpcbuilder &mdash; yangsuite-netconf 1.15.1.post0.dev1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ysnetconf.views" href="ysnetconf.views.html" />
    <link rel="prev" title="ysnetconf.nconf" href="ysnetconf.nconf.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> yangsuite-netconf
          

          
          </a>

          
            
            
              <div class="version">
                1.15.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">Using NETCONF with YANG Suite</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ysnetconf developer documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ysnetconf.apps.html"><code class="docutils literal notranslate"><span class="pre">ysnetconf.apps</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="ysnetconf.nconf.html"><code class="docutils literal notranslate"><span class="pre">ysnetconf.nconf</span></code></a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">ysnetconf.rpcbuilder</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="ysnetconf.views.html"><code class="docutils literal notranslate"><span class="pre">ysnetconf.views</span></code></a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">yangsuite-netconf</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">ysnetconf developer documentation</a> &raquo;</li>
        
      <li><code class="docutils literal notranslate"><span class="pre">ysnetconf.rpcbuilder</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/developer/ysnetconf.rpcbuilder.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ysnetconf.rpcbuilder">
<span id="ysnetconf-rpcbuilder"></span><h1><code class="docutils literal notranslate"><span class="pre">ysnetconf.rpcbuilder</span></code><a class="headerlink" href="#module-ysnetconf.rpcbuilder" title="Permalink to this headline">¶</a></h1>
<p>Build NETCONF RPC XML from user-provided inputs.</p>
<dl class="exception">
<dt id="ysnetconf.rpcbuilder.RpcInputError">
<em class="property">exception </em><code class="descclassname">ysnetconf.rpcbuilder.</code><code class="descname">RpcInputError</code><span class="sig-paren">(</span><em>parameter</em>, <em>value</em>, <em>reason</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ysnetconf/rpcbuilder.html#RpcInputError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ysnetconf.rpcbuilder.RpcInputError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a></p>
<p>Raised by <a class="reference internal" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder.get_payload" title="ysnetconf.rpcbuilder.YSNetconfRPCBuilder.get_payload"><code class="xref py py-meth docutils literal notranslate"><span class="pre">YSNetconfRPCBuilder.get_payload()</span></code></a> on invalid input.</p>
</dd></dl>

<dl class="exception">
<dt id="ysnetconf.rpcbuilder.XMLValueError">
<em class="property">exception </em><code class="descclassname">ysnetconf.rpcbuilder.</code><code class="descname">XMLValueError</code><span class="sig-paren">(</span><em>value</em>, <em>reason</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ysnetconf/rpcbuilder.html#XMLValueError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ysnetconf.rpcbuilder.XMLValueError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ysnetconf.rpcbuilder.RpcInputError" title="ysnetconf.rpcbuilder.RpcInputError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ysnetconf.rpcbuilder.RpcInputError</span></code></a></p>
<p>Exception raised when the xml_value is malformed.</p>
</dd></dl>

<dl class="exception">
<dt id="ysnetconf.rpcbuilder.XPathError">
<em class="property">exception </em><code class="descclassname">ysnetconf.rpcbuilder.</code><code class="descname">XPathError</code><span class="sig-paren">(</span><em>value</em>, <em>reason</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ysnetconf/rpcbuilder.html#XPathError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ysnetconf.rpcbuilder.XPathError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ysnetconf.rpcbuilder.RpcInputError" title="ysnetconf.rpcbuilder.RpcInputError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ysnetconf.rpcbuilder.RpcInputError</span></code></a></p>
<p>Exception raised when the XPath is malformed.</p>
</dd></dl>

<dl class="class">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder">
<em class="property">class </em><code class="descclassname">ysnetconf.rpcbuilder.</code><code class="descname">YSNetconfRPCBuilder</code><span class="sig-paren">(</span><em>prefix_namespaces='minimal'</em>, <em>netconf_ns='urn:ietf:params:xml:ns:netconf:base:1.0'</em>, <em>nsmap=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ysnetconf/rpcbuilder.html#YSNetconfRPCBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class used to build a NETCONF RPC XML from provided data.</p>
<dl class="attribute">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._XPATH_CONCAT_TOKEN_RE">
<code class="descname">_XPATH_CONCAT_TOKEN_RE</code><em class="property"> = re.compile('(?:&quot;([^&quot;]*)&quot;|\'([^\']*)\')')</em><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._XPATH_CONCAT_TOKEN_RE" title="Permalink to this definition">¶</a></dt>
<dd><p>Regex for a single-quoted or double-quoted string.</p>
<p>Double-quoted strings are returned as match group 1, single-quoted as
match group 2.
Used by <a class="reference internal" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._get_nodes" title="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._get_nodes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_get_nodes()</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._XPATH_KEY_RE">
<code class="descname">_XPATH_KEY_RE</code><em class="property"> = re.compile('\\[([^=\\[\\]]+)=(?:&quot;([^&quot;]*)&quot;|\'([^\']*)\'|concat\\((.*)\\))\\]')</em><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._XPATH_KEY_RE" title="Permalink to this definition">¶</a></dt>
<dd><p>Regex for an XPath predicate representing a list key and value.</p>
<p>Matches strings like <code class="docutils literal notranslate"><span class="pre">[name=&quot;foobar&quot;]</span></code> and returns the key and value
(here, <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">foobar</span></code>) as match subgroups. Note that the key is
always subgroup 1, whereas the value will be subgroup 2 (if double-quoted),
3 (if single-quoted), or 4 (if based on concat()) depending on the input.
Used by <a class="reference internal" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._get_nodes" title="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._get_nodes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_get_nodes()</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._XPATH_PREFIX_IDENTIFIER_RE">
<code class="descname">_XPATH_PREFIX_IDENTIFIER_RE</code><em class="property"> = re.compile('([a-zA-Z_][-a-zA-Z0-9_.]*):([a-zA-Z_][-a-zA-Z0-9_.]*)')</em><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._XPATH_PREFIX_IDENTIFIER_RE" title="Permalink to this definition">¶</a></dt>
<dd><p>Regex matching a prefixed identifier in an XPath.</p>
<p>Matches strings like <code class="docutils literal notranslate"><span class="pre">ocif:interface</span></code> and returns the prefix and
identifier (here, <code class="docutils literal notranslate"><span class="pre">ocif</span></code> and <code class="docutils literal notranslate"><span class="pre">interface</span></code>) as match subgroups.
Used by <a class="reference internal" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._get_nodes" title="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._get_nodes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_get_nodes()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._get_nodes">
<code class="descname">_get_nodes</code><span class="sig-paren">(</span><em>xpath</em>, <em>root_elem</em>, <em>value=None</em>, <em>xml_value=None</em>, <em>edit_op=None</em>, <em>validate_only=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ysnetconf/rpcbuilder.html#YSNetconfRPCBuilder._get_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._get_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct Elements for the given leaf under the given parent.</p>
<p>Helper method to <a class="reference internal" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder.get_payload" title="ysnetconf.rpcbuilder.YSNetconfRPCBuilder.get_payload"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_payload()</span></code></a>.
Makes use of <a class="reference internal" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._XPATH_KEY_RE" title="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._XPATH_KEY_RE"><code class="xref py py-const docutils literal notranslate"><span class="pre">_XPATH_KEY_RE</span></code></a> and <a class="reference internal" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._XPATH_CONCAT_TOKEN_RE" title="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._XPATH_CONCAT_TOKEN_RE"><code class="xref py py-const docutils literal notranslate"><span class="pre">_XPATH_CONCAT_TOKEN_RE</span></code></a>
to handle list key predicates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">YSNetconfRPCBuilder</span><span class="o">.</span><span class="n">_XPATH_KEY_RE</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
<span class="gp">... </span>     <span class="sd">&#39;&#39;&#39;foo[bar=&quot;baz&quot;][bat-qux=&#39;frobozz&#39;]&#39;&#39;&#39;</span><span class="p">)</span>
<span class="go">[(&#39;bar&#39;, &#39;baz&#39;, &#39;&#39;, &#39;&#39;), (&#39;bat-qux&#39;, &#39;&#39;, &#39;frobozz&#39;, &#39;&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">YSNetconfRPCBuilder</span><span class="o">.</span><span class="n">_XPATH_KEY_RE</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
<span class="gp">... </span><span class="s1">&#39;ipv6[ip=&quot;2001:0dB8:AC10:FE01::&quot;][prefix=&quot;/64&quot;]&#39;</span><span class="p">)</span>
<span class="go">[(&#39;ip&#39;, &#39;2001:0dB8:AC10:FE01::&#39;, &#39;&#39;, &#39;&#39;), (&#39;prefix&#39;, &#39;/64&#39;, &#39;&#39;, &#39;&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">YSNetconfRPCBuilder</span><span class="o">.</span><span class="n">_XPATH_KEY_RE</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
<span class="gp">... </span><span class="s2">&quot;ipv4[ip=&#39;10.0.10.77&#39;][prefix=&#39;/24&#39;]&quot;</span><span class="p">)</span>
<span class="go">[(&#39;ip&#39;, &#39;&#39;, &#39;10.0.10.77&#39;, &#39;&#39;), (&#39;prefix&#39;, &#39;&#39;, &#39;/24&#39;, &#39;&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">YSNetconfRPCBuilder</span><span class="o">.</span><span class="n">_XPATH_KEY_RE</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
<span class="gp">... </span><span class="sd">&#39;&#39;&#39;foo:bar[description=concat(&quot;I said &quot;, \&#39;&quot;\&#39;, &#39;&#39;&#39;</span> <span class="o">+</span>
<span class="gp">... </span><span class="sd">&#39;&#39;&#39;&quot;I said, \&#39;hello\&#39;&quot;, \&#39;&quot;\&#39;, &quot;!&quot;)]&#39;&#39;&#39;</span><span class="p">)</span>
<span class="go">[(&#39;description&#39;, &#39;&#39;, &#39;&#39;, &#39;&quot;I said &quot;, \&#39;&quot;\&#39;, &quot;I said, \&#39;hello\&#39;&quot;, \&#39;&quot;\&#39;, &quot;!&quot;&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokens</span> <span class="o">=</span> <span class="n">YSNetconfRPCBuilder</span><span class="o">.</span><span class="n">_XPATH_CONCAT_TOKEN_RE</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
<span class="gp">... </span><span class="s1">&#39;&quot;I said &quot;, </span><span class="se">\&#39;</span><span class="s1">&quot;</span><span class="se">\&#39;</span><span class="s1">, &quot;I said, </span><span class="se">\&#39;</span><span class="s1">hello</span><span class="se">\&#39;</span><span class="s1">&quot;, </span><span class="se">\&#39;</span><span class="s1">&quot;</span><span class="se">\&#39;</span><span class="s1">, &quot;!&quot;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokens</span>
<span class="go">[(&#39;I said &#39;, &#39;&#39;), (&#39;&#39;, &#39;&quot;&#39;), (&quot;I said, &#39;hello&#39;&quot;, &#39;&#39;), (&#39;&#39;, &#39;&quot;&#39;), (&#39;!&#39;, &#39;&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tok</span><span class="p">)</span> <span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">)</span>
<span class="go">&#39;I said &quot;I said, \&#39;hello\&#39;&quot;!&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xpath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Absolute data node identifier (/ns:name/ns:name2..)</li>
<li><strong>root_elem</strong> (<em>lxml.etree.Element</em>) – Parent Element to add children to.</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Text value, if any, to set for this leaf. May include
HTML/XML escape sequences such as <code class="docutils literal notranslate"><span class="pre">&amp;gt;</span></code>.</li>
<li><strong>xml_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – XML string to set (as un-escaped XML) for this leaf.</li>
<li><strong>edit_op</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Text, if any, to set on a “nc:operation” attribute of
the new leaf element</li>
<li><strong>validate_only</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – If True, do not build any XML elements, only
validate the correctness of the <code class="docutils literal notranslate"><span class="pre">xpath</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#ysnetconf.rpcbuilder.XPathError" title="ysnetconf.rpcbuilder.XPathError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">XPathError</span></code></a> – if the xpath is not a valid schema node identifier</li>
<li><a class="reference internal" href="#ysnetconf.rpcbuilder.XMLValueError" title="ysnetconf.rpcbuilder.XMLValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">XMLValueError</span></code></a> – if the xml_value is not a valid XML string</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._make_element">
<code class="descname">_make_element</code><span class="sig-paren">(</span><em>parent</em>, <em>qname</em>, <em>value=None</em>, <em>xml_child=None</em>, <em>edit_op=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ysnetconf/rpcbuilder.html#YSNetconfRPCBuilder._make_element"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._make_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an Element based on the given cfg data.</p>
<p>Helper method to <a class="reference internal" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._get_nodes" title="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._get_nodes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_get_nodes()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>parent</strong> (<em>lxml.etree.Element</em>) – Parent for the new element</li>
<li><strong>qname</strong> (<em>lxml.etree.QName</em>) – Namespace and localname for the new element</li>
<li><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Text value, if any, to set on the new element
(with appropriate XML escapes if needed). May be ‘pre-escaped’ by
the caller with HTML/XML escape sequences, if desired.</li>
<li><strong>xml_child</strong> (<em>lxml.etree.Element</em>) – XML set as child of the new element</li>
<li><strong>edit_op</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Text, if any, to set on a “nc:operation” attribute of
the new element</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><em>lxml.etree.Element</em> – Newly constructed XML element.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._qname">
<code class="descname">_qname</code><span class="sig-paren">(</span><em>name</em>, <em>default_ns=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ysnetconf/rpcbuilder.html#YSNetconfRPCBuilder._qname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._qname" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a name into a QName.</p>
<p>Helper method to <a class="reference internal" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder._get_nodes" title="ysnetconf.rpcbuilder.YSNetconfRPCBuilder._get_nodes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_get_nodes()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name, either prefixed ‘foo:bar’ or unprefixed ‘bar’.</li>
<li><strong>default_ns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Namespace to use if no prefix given.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">lxml.etree.QName</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder.add_netconf_attr">
<code class="descname">add_netconf_attr</code><span class="sig-paren">(</span><em>elem</em>, <em>attr</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ysnetconf/rpcbuilder.html#YSNetconfRPCBuilder.add_netconf_attr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder.add_netconf_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an appropriately namespaced attribute to the given Element.</p>
</dd></dl>

<dl class="attribute">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder.edit_data">
<code class="descname">edit_data</code><em class="property"> = None</em><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder.edit_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory to create “edit-data” element RFC 8526.</p>
</dd></dl>

<dl class="attribute">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder.get_data">
<code class="descname">get_data</code><em class="property"> = None</em><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory to create “get-data” element RFC 8526.</p>
</dd></dl>

<dl class="method">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder.get_payload">
<code class="descname">get_payload</code><span class="sig-paren">(</span><em>cfgs</em>, <em>root_element</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ysnetconf/rpcbuilder.html#YSNetconfRPCBuilder.get_payload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder.get_payload" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct XML RPC payload derived from the given list of cfgs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cfgs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – List of “cfg” dicts, each with mandatory key “xpath”
(described below) and optional keys “value” (text value of the
described leaf node), “xml_value” (value of the described “anyxml”
or “anydata” node) and/or “edit-op” (a
<a class="reference external" href="https://tools.ietf.org/html/rfc4741#section-7.2">NETCONF edit-config operation</a>).</li>
<li><strong>root_element</strong> (<em>lxml.etree.Element</em>) – Containing Element to populate
with a hierarchy of sub-elements corresponding to the given cfgs
list.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><em>lxml.etree.Element</em> – root_element, now populated with additional
sub-element(s) as appropriate.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#ysnetconf.rpcbuilder.RpcInputError" title="ysnetconf.rpcbuilder.RpcInputError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RpcInputError</span></code></a> – if any parameters in <code class="xref py py-attr docutils literal notranslate"><span class="pre">cfgs</span></code> are malformed
in such a way to prevent construction of the RPC.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>Given an empty <code class="docutils literal notranslate"><span class="pre">&lt;ocif:interfaces&gt;</span></code> <code class="docutils literal notranslate"><span class="pre">root_element</span></code> and a
simple single-entry <code class="docutils literal notranslate"><span class="pre">cfgs</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span>
    <span class="s2">&quot;xpath&quot;</span><span class="p">:</span> <span class="s1">&#39;/ocif:interfaces/ocif:interface[name=&quot;eth0&quot;]/ocif:config/ocif:mtu&#39;</span><span class="p">,</span>
    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;9000&quot;</span><span class="p">,</span>
<span class="p">}]</span>
</pre></div>
</div>
<p>the updated and returned <code class="docutils literal notranslate"><span class="pre">root_element</span></code> will be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">ocif</span><span class="p">:</span><span class="n">interfaces</span>
 <span class="n">xmlns</span><span class="p">:</span><span class="n">ocif</span><span class="o">=</span><span class="s2">&quot;http://openconfig.net/yang/interfaces&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ocif</span><span class="p">:</span><span class="n">interface</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ocif</span><span class="p">:</span><span class="n">name</span><span class="o">&gt;</span><span class="n">eth0</span><span class="o">&lt;/</span><span class="n">ocif</span><span class="p">:</span><span class="n">name</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ocif</span><span class="p">:</span><span class="n">config</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">ocif</span><span class="p">:</span><span class="n">mtu</span><span class="o">&gt;</span><span class="mi">9000</span><span class="o">&lt;/</span><span class="n">ocif</span><span class="p">:</span><span class="n">mtu</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ocif</span><span class="p">:</span><span class="n">config</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">ocif</span><span class="p">:</span><span class="n">interface</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">ocif</span><span class="p">:</span><span class="n">interfaces</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>For each “cfg” in the “cfgs” list, the “xpath” parameter is more
precisely an XPath <a class="reference external" href="https://www.w3.org/TR/1999/REC-xpath-19991116/#path-abbrev">abbreviated</a> <a class="reference external" href="https://www.w3.org/TR/1999/REC-xpath-19991116/#location-paths">location path</a>, evaluated in the
<a class="reference external" href="https://tools.ietf.org/html/rfc6020#section-6.4">context</a> described in <a class="reference external" href="https://tools.ietf.org/html/rfc6020">RFC 6020</a>. Currently the only predicates
supported by this API are “child” expressions describing the values
of any list keys, similar to the YANG <a class="reference external" href="https://tools.ietf.org/html/rfc6020#section-9.13">instance-identifier</a> built-in
type. In brief, the “xpath” should be a string of form
<code class="docutils literal notranslate"><span class="pre">/root-node/node/list-node[key1=&quot;val1&quot;][key2=&quot;val2&quot;]/node/leaf-node</span></code>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>For each “cfg”, the “xpath” SHOULD include predicates for any and
all list keys (e.g., <code class="docutils literal notranslate"><span class="pre">[name=&quot;eth0&quot;]</span></code>). This method doesn’t know
what list keys are expected, so it will not reject XPaths that are
in fact missing a key(s) according to the underlying YANG model,
but the resulting RPC will be invalid for the YANG model.</p>
<p class="last">Similarly, to generate a valid RPC, if a list has more than one
key, the key predicates in the XPath SHOULD be in the expected
order as defined in the YANG model. This is again because this
method does not know the required key ordering and if the keys
are mis-ordered in the parameters passed to this method, they will
be mis-ordered in the resulting RPC as well.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>When the list keys are correctly specified as XPath predicates,
cfg entries specifically describing the list key(s) are optional,
as list key elements will be automatically created based on the
XPath predicates. In other words, given the above example, the
following additional “cfg” is unneeded but would not be harmful:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;xpath&quot;</span><span class="p">:</span> <span class="s1">&#39;/ocif:interfaces/ocif:interface[name=&quot;eth0&quot;]/ocif:name&#39;</span><span class="p">,</span>
    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;eth0&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder.keep_prefixes">
<code class="descname">keep_prefixes</code><em class="property"> = None</em><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder.keep_prefixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Namespace prefixes to keep even if ‘unused’.</p>
<p>Primarily used to ensure that namespaced <strong>values</strong> retain
their prefixes.</p>
</dd></dl>

<dl class="attribute">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder.ncwd_element">
<code class="descname">ncwd_element</code><em class="property"> = None</em><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder.ncwd_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory to create XML elements in the with-defaults namespace.</p>
</dd></dl>

<dl class="attribute">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder.netconf_element">
<code class="descname">netconf_element</code><em class="property"> = None</em><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder.netconf_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory used to create XML elements in the NETCONF namespace.</p>
</dd></dl>

<dl class="attribute">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder.skip_next_hop">
<code class="descname">skip_next_hop</code><em class="property"> = ['case', 'choice', 'input', 'output']</em><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder.skip_next_hop" title="Permalink to this definition">¶</a></dt>
<dd><p>Nodetypes that must not be included in an RPC, but skipped over instead.</p>
<p>In other words, nodes that are schema nodes but not data nodes.</p>
</dd></dl>

<dl class="attribute">
<dt id="ysnetconf.rpcbuilder.YSNetconfRPCBuilder.yang_element">
<code class="descname">yang_element</code><em class="property"> = None</em><a class="headerlink" href="#ysnetconf.rpcbuilder.YSNetconfRPCBuilder.yang_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory used to create XML elements in the YANG namespace.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ysnetconf.views.html" class="btn btn-neutral float-right" title="ysnetconf.views" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ysnetconf.nconf.html" class="btn btn-neutral" title="ysnetconf.nconf" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, YANG Suite development team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.15.1.post0.dev1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>